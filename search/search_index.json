{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Manual Onix EtherNet/IP 1. Introdu\u00e7\u00e3o O documento a seguir detalha a instala\u00e7\u00e3o e utiliza\u00e7\u00e3o do Indicador de pesagem Onix Ethernet/IP. Cabe destacar que este comporta-se como um anexo ao manual do Indicador de Pesagem Onix. 2. Protocolo Ethernet/IP O protocolo Ethernet/IP faz uso da tecnologia Ethernet, fornecendo interconex\u00f5es para rede(s) local(is), efetuando a comunica\u00e7\u00e3o atrav\u00e9s do envio de pacotes(norma IEEE 802-2 e IEEE 802-3). \u00c9 definido pelo Ethernet o tipo de cabeamento e sinais el\u00e9tricos para a camada f\u00edsica al\u00e9m do formato dos pacotes e protocolos seguindo o modelo OSI. Ao abordar protocolos de comunica\u00e7\u00e3o, antes \u00e9 necess\u00e1rio defini-los. Protocolos, em especial os de comunica\u00e7\u00e3o s\u00e3o um conjunto de regras e procedimentos que visam proporcionar a troca de dados entre m\u00e1quinas e sistemas Baseado no meio f\u00edsico de comunica\u00e7\u00e3o Ethernet surgiram diversos protocolos de comunica\u00e7\u00e3o, servindo a diversas finalidades. Atualmente entre os diversos protocolos que trafegam sobre este meio f\u00edsico como o FTP, HTTP, IP, TPC, UDP... Al\u00e9m do uso em computadores em ambientes residenciais, comerciais e acad\u00eamicos a tecnologia Ethernet \u00e9 difundida tamb\u00e9m em ambientes industriais para interconex\u00f5es de equipamentos e maquin\u00e1rios. Nesses surgiram diferentes protocolos de comunica\u00e7\u00e3o como Modbus TCP, Ethernet/IP e Profinet, todos utilizando o meio f\u00edsico Ethernet. 3. Descri\u00e7\u00e3o da Interface O equipamento indicador de pesagem Onix EtherNet/IP utiliza um conector RJ45 para liga\u00e7\u00e3o com a rede, e uma entrada serial para a configura\u00e7\u00e3o de par\u00e2metros de comunica\u00e7\u00e3o. Inserir imagem lateral do equipamento 3.1 Conectores O equipamento Onix EtherNet/IP possui um conector RJ45 para liga\u00e7\u00e3o em rede, a pinagem do conector segue o padr\u00e3o Fast Ethernet 100BASE-TX utilizando dois pares de cabos para transmiss\u00e3o e recep\u00e7\u00e3o de dados. 3.2 Leds Indicativos O Equipamento Onix EtherNet/IP possui um LED de indica\u00e7\u00e3o na porta EtherNet/IP, al\u00e9m de outro led que possui as seguintes indica\u00e7\u00f5es. Vista de um switch conectado ao Onix Ethernet (Inserir imagem) LED COR FUN\u00c7\u00c3O Link Verde Led de indica\u00e7\u00e3o de atividade Module Status (MS) Bicolor (Verde/Vermelho) (verificar a exist\u00eancia destes LEDs) Network Status (NS) Bicolor (Verde/Vermelho) (verificar a exist\u00eancia destes LEDs) 4 Instala\u00e7\u00e3o em Rede As recomenda\u00e7\u00f5es expressas neste cap\u00edtulo devem ser observadas para o correto funcionamento do equipamento em rede. 4.1 Endere\u00e7o IP Todo equipamento em uma rede Ethernet independente do protocolo necessita de um endere\u00e7o IP e m\u00e1scara de sub-rede. O endere\u00e7o IP em uma rede deve ser \u00fanico para cada equipamento. A mascara de sub-rede tem como fun\u00e7\u00e3o definir faixas v\u00e1lidas de endere\u00e7o IP na rede 4.2 Taxa de Comunica\u00e7\u00e3o O indicador de pesagem Onix EtherNet/IP se comunica utilizando taxas de (VERIFICAR A TAXA DE COMUNICA\u00c7\u00c3O DO NETIC) 4.3 Cabos Abaixo segue as caracter\u00edsticas recomendadas para o cabo utilizado na instala\u00e7\u00e3o: - Cabo padr\u00e3o Ethernet, 100Base-TX (FastEthernet), CAT 5e ou superior. - Utilizar (preferencialmente) cabo blindado. - Comprimento m\u00e1ximo: 100 m. 4.4 Topologia de Rede A conex\u00e3o do indicador Onix EtherNet/IP em rede Ethernet \u00e9 feita geralmente em estrela com a utiliza\u00e7\u00e3o de um switch industrial. Vista de um switch conectado ao Onix Ethernet (Inserir imagem) 4.5 Recomenda\u00e7\u00f5es O aterramento correto do equipamento diminui poss\u00edveis problemas causados por interfer\u00eancias oriundas de ambientes industrial. \u00c9 recomend\u00e1vel seguir as seguintes recomenda\u00e7\u00f5es: - Utilizar cabos Ethernet com blindagem, bem como conectores que utilizem inv\u00f3lucro met\u00e1lico; - Efetuar a liga\u00e7\u00e3o do terra ao equipamento. Evitar a conex\u00e3o do cabo em m\u00faltiplos pontos de aterramento, principalmente quando existir diferentes pontos de potenciais; - Passar cabos de comunica\u00e7\u00e3o em vias dedicadas, evitando a passagem de cabos de alta pot\u00eancia pr\u00f3ximos. 5 Parametriza\u00e7\u00e3o Ser\u00e3o descritos neste cap\u00edtulos par\u00e2metros do indicador de Pesagem Onix EtherNet/IP, v\u00ednculo com a comunica\u00e7\u00e3o Ethernet 5.1 S\u00edmbolos para Descri\u00e7\u00e3o das propriedades S\u00edmbolo Descri\u00e7\u00e3o SL Somente Leitura SE Somente Escrita PM Posi\u00e7\u00e3o de Mem\u00f3ria 5.2 Par\u00e2metros 5.2.1 Leitura de Peso PM Faixa de valores Propriedade 2, 3 0x0000 ~ 0xFFFF SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura de peso obtida pelo equipamento. Esta informa\u00e7\u00e3o \u00e9 composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informa\u00e7\u00e3o: Bits Informa\u00e7\u00e3o Descritivo (PM 2) 15 ~ 8 STS Status de pesagem 7 ~ 0 PESO_A Primeira fra\u00e7\u00e3o mais significativa da pesagem Bits Informa\u00e7\u00e3o Descritivo (PM 3) 15 ~ 8 PESO_B Segunda fra\u00e7\u00e3o mais significativa da pesagem 7 ~ 0 PESO_C \u00daltima fra\u00e7\u00e3o da pesagem Descri\u00e7\u00e3o Bits STS: BITS INFORMA\u00c7\u00c3O 7 1: Peso Bruto, 0: Peso L\u00edquido 6 1: Sobrecarga 5 1: Satura\u00e7\u00e3o do AD 4 1: Peso Est\u00e1vel, 0: Peso n\u00e3o est\u00e1vel 3 1: Peso Negativo, 0: Peso Positivo 2, 1, 0 Posi\u00e7\u00e3o Ponto decimal (Descri\u00e7\u00e3o na tabela abaixo) Descri\u00e7\u00e3o Bits Posi\u00e7\u00e3o Ponto Decimal: BIT 2 BIT 1 BIT 0 INFORMA\u00c7\u00c3O 0 0 0 Sem Ponto Decimal 0 0 1 Formato 0,0 0 1 0 Formato 0,00 0 1 1 Formato 0,000 1 0 0 Formato 0,0000 Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Calculo da Informa\u00e7\u00e3o Peso: A informa\u00e7\u00e3o peso \u00e9 obtida atrav\u00e9s do calculo utilizando os dados PESO A, PESO B, PESO C e STS. O valor bruto da informa\u00e7\u00e3o peso pode ser descrito conforme a formula abaixo. PESO = (PESO_A x 65536) + (PESO_B x 256) + PESO_C Ap\u00f3s o calculo descrito acima as informa\u00e7\u00f5es de sinal e casas decimais devem ser inseridas. Segue abaixo dois exemplo do processamento das informa\u00e7\u00f5es de peso em linguagem C e em linguagem Ladder. Exemplo em Linguagem C: /* * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP * e sts_ethernetIP s\u00e3o aqueles recebidos pelo protocolo EtherNetIP */ float PESO(uint16_t pesoA_ethernetIP,uint16_t pesoB_ethernetIP, uint16_t pesoC_ethernetIP, sts_ethernetIP) { uint16_t peso; uint16_t p_decimal; uint16_t sinal; float peso_decimal; peso = (pesoA_ethernetIP * 65536) + (pesoB_ethernetIP * 256) + pesoC_ethernetIP //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de casas decimais p_decimal = sts_ethernetIP & 0b0000000000000111; switch(p_decimal): { case 1: peso_decimal = peso / 10; break; case 2: peso_decimal = peso / 100; break; case 3: peso_decimal = peso / 1000; break; case 4: peso_decimal = peso / 10000; break; } //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de sinal da pesagem sinal = sts_ethernetIP & 0b0000000000001000; if(sinal != 0x0000) { peso_decimal *= -1; } /* * Em virtude de como a linguagem armazena os valores do tipo float * para que as casas decimais sejam exatamente em quantidade \u00e0quelas * desejadas deve ser tratado as casas decimais retornadas do armaze- * namento em vari\u00e1vel */ return peso_decimal; } Exemplo em Linguagem Ladder: Imagem do exemplo em linguagem ladder 5.2.2 Leitura de Tara PM Faixa de valores Propriedade 4, 5 0x0000 ~ 0xFFFF SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura de tara obtida pelo equipamento. Esta informa\u00e7\u00e3o \u00e9 composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informa\u00e7\u00e3o: Bits Informa\u00e7\u00e3o Descritivo (PM 4) 15 ~ 8 CASAS Status de tara 7 ~ 0 TARA_A Primeira fra\u00e7\u00e3o mais significativa da tara Bits Informa\u00e7\u00e3o Descritivo (PM 5) 15 ~ 8 TARA_B Segunda fra\u00e7\u00e3o mais significativa da tara 7 ~ 0 TARA_C \u00daltima fra\u00e7\u00e3o da tara Descri\u00e7\u00e3o Bits CASAS: BITS INFORMA\u00c7\u00c3O 2, 1, 0 Posi\u00e7\u00e3o Ponto decimal (Descri\u00e7\u00e3o na tabela abaixo) Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Descri\u00e7\u00e3o Bits Posi\u00e7\u00e3o Ponto Decimal: BIT 2 BIT 1 BIT 0 INFORMA\u00c7\u00c3O 0 0 0 Sem Ponto Decimal 0 0 1 Formato 0,0 0 1 0 Formato 0,00 0 1 1 Formato 0,000 1 0 0 Formato 0,0000 Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Calculo da Informa\u00e7\u00e3o Tara: A informa\u00e7\u00e3o peso \u00e9 obtida atrav\u00e9s do calculo utilizando os dados CASAS, TARA_A, TARA_B e TARA_C. O valor bruto da informa\u00e7\u00e3o tara pode ser descrito conforme a formula abaixo. TARA = (TARA_A x 65536) + (TARA_B x 256) + TARA_C Ap\u00f3s o calculo descrito acima as informa\u00e7\u00e3o de casas decimais devem ser inseridas. Segue abaixo dois exemplo do processamento das informa\u00e7\u00f5es de peso em linguagem C e em linguagem Ladder. Exemplo em Linguagem C: /* * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP * e sts_ethernetIP s\u00e3o aqueles recebidos pelo protocolo EtherNetIP */ float TARA(uint16_t taraA_ethernetIP,uint16_t taraB_ethernetIP, uint16_t taraC_ethernetIP, casas_ethernetIP) { uint16_t tara; uint16_t t_decimal; float tara_decimal; tara = (taraA_ethernetIP * 65536) + (taraB_ethernetIP * 256) + taraC_ethernetIP //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de casas decimais t_decimal = casas_ethernetIP & 0b0000000000000111; switch(t_decimal): { case 1: tara_decimal = tara / 10; break; case 2: tara_decimal = tara / 100; break; case 3: tara_decimal = tara / 1000; break; case 4: tara_decimal = tara / 10000; break; } /* * Em virtude de como a linguagem armazena os valores do tipo float * para que as casas decimais sejam exatamente em quantidade * \u00e0quelas desejadas deve ser tratado as casas decimais retornadas * do armazenamento em vari\u00e1vel */ return peso_decimal; } Exemplo em Linguagem Ladder: Imagem do exemplo em linguagem ladder 5.2.3 Leitura de Filtro PM Faixa de valores Propriedade 6 0x0000 ~ 0x000B SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o Filtro Digital - FIL\" feita no indicador de pesagem. Bits Informa\u00e7\u00e3o Descritivo (PM 5) 15 ~ 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de FIL A tabela abaixo apresenta todos os valores possiveis para FIL. \u00c9 importante destacar que quanto maior o valor do filtro maior ser\u00e1 a estabilidade entregue pelo sistema, consequentemente o tempo de resposta aumenta. Valores Filtro DIGITAL 0 Desabilitado - sem atua\u00e7\u00e3o do filtro 1,2,3,4,5,6,7,8,9,10,11 Filtro ativo Observa\u00e7\u00e3o1: Configura\u00e7\u00e3o de filtro valor de 1 a 8 s\u00e3o indicados para processos gerais, destacando que conforme o valor do filtro maior ser\u00e1 seu tempo de resposta. Observa\u00e7\u00e3o2: Filtros com valores maiores ou iguais a 9 s\u00e3o indicados para pesagem de caminh\u00f5es em movimento, tanques com agitadores e aplica\u00e7\u00f5es como balan\u00e7a de gado, observando que o tempo de resposta ter\u00e1 um incremento de tempo. 5.2.4 Leitura do Fator de Sensibilidade Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o Fator de Sensibilidade\". Bits Informa\u00e7\u00e3o Descritivo (PM 7) 15 ~ 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de Fator de Sensibilidade A tabela abaixo apresenta todos os valores possiveis para Fator de Sensibilidade. Valores Fator de Sensibilidade 1 Respostas r\u00e1pidas (ideal para pesagem e carga viva - Balan\u00e7a de gado) 2 Para plataformas at\u00e9 50 Kg 3 Para plataformas at\u00e9 100 Kg 4 Para plataformas at\u00e9 1000 Kg 5 Para plataformas acima de 1000 Kg 5.2.4 Leitura de Pesagem R\u00e1pida (PrAP) Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o de Pesagem r\u00e1pida PrAP\". Em aplica\u00e7\u00f5es onde deseja-se obter apenas o valor final de leitura n\u00e3o se preocupando com os intermedi\u00e1rios torna a leitura mais din\u00e2mica (100 milissegundos). Quando PrAP se encontra em seu modo ativo conforme Portaria 236/94 do INMETRO a estabiliza\u00e7\u00e3o do valor de leitura se d\u00e1 ap\u00f3s (500 milissegundos). Bits Informa\u00e7\u00e3o Descritivo (PM 8) 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de PrAP A tabela abaixo apresenta todos os valores poss\u00edveis PrAP. \u00c9 essa configura\u00e7\u00e3o possui apenas dois valores poss\u00edveis conforme descrito abaixo. Valores Fator de Sensibilidade 0 PrAP desabilitado 1 PrAP habilitado 5.2.5 Leitura de Unidade de Leitura (UnL) Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o de Unidade de Leitura UnL\". Esta leitura informa a unidade de leitura adotada na pesagem, sendo poss\u00edvel quatro configura\u00e7\u00f5es. Bits Informa\u00e7\u00e3o Descritivo (PM 9) 7,6,5,4,3,2,1,0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de UnL A tabela abaixo apresenta todos os valores poss\u00edveis de UnL. \u00c9 essa configura\u00e7\u00e3o possui quatro valores poss\u00edveis conforme descrito abaixo. Valores Fator de Sensibilidade 0 Sem Unidade de Leitura 2 Tonelada - T 4 Kilograma - Kg 8 Grama - g","title":"Manual Onix EtherNet/IP"},{"location":"#manual-onix-ethernetip","text":"","title":"Manual Onix EtherNet/IP"},{"location":"#1-introducao","text":"O documento a seguir detalha a instala\u00e7\u00e3o e utiliza\u00e7\u00e3o do Indicador de pesagem Onix Ethernet/IP. Cabe destacar que este comporta-se como um anexo ao manual do Indicador de Pesagem Onix.","title":"1. Introdu\u00e7\u00e3o"},{"location":"#2-protocolo-ethernetip","text":"O protocolo Ethernet/IP faz uso da tecnologia Ethernet, fornecendo interconex\u00f5es para rede(s) local(is), efetuando a comunica\u00e7\u00e3o atrav\u00e9s do envio de pacotes(norma IEEE 802-2 e IEEE 802-3). \u00c9 definido pelo Ethernet o tipo de cabeamento e sinais el\u00e9tricos para a camada f\u00edsica al\u00e9m do formato dos pacotes e protocolos seguindo o modelo OSI. Ao abordar protocolos de comunica\u00e7\u00e3o, antes \u00e9 necess\u00e1rio defini-los. Protocolos, em especial os de comunica\u00e7\u00e3o s\u00e3o um conjunto de regras e procedimentos que visam proporcionar a troca de dados entre m\u00e1quinas e sistemas Baseado no meio f\u00edsico de comunica\u00e7\u00e3o Ethernet surgiram diversos protocolos de comunica\u00e7\u00e3o, servindo a diversas finalidades. Atualmente entre os diversos protocolos que trafegam sobre este meio f\u00edsico como o FTP, HTTP, IP, TPC, UDP... Al\u00e9m do uso em computadores em ambientes residenciais, comerciais e acad\u00eamicos a tecnologia Ethernet \u00e9 difundida tamb\u00e9m em ambientes industriais para interconex\u00f5es de equipamentos e maquin\u00e1rios. Nesses surgiram diferentes protocolos de comunica\u00e7\u00e3o como Modbus TCP, Ethernet/IP e Profinet, todos utilizando o meio f\u00edsico Ethernet.","title":"2. Protocolo Ethernet/IP"},{"location":"#3-descricao-da-interface","text":"O equipamento indicador de pesagem Onix EtherNet/IP utiliza um conector RJ45 para liga\u00e7\u00e3o com a rede, e uma entrada serial para a configura\u00e7\u00e3o de par\u00e2metros de comunica\u00e7\u00e3o. Inserir imagem lateral do equipamento","title":"3. Descri\u00e7\u00e3o da Interface"},{"location":"#31-conectores","text":"O equipamento Onix EtherNet/IP possui um conector RJ45 para liga\u00e7\u00e3o em rede, a pinagem do conector segue o padr\u00e3o Fast Ethernet 100BASE-TX utilizando dois pares de cabos para transmiss\u00e3o e recep\u00e7\u00e3o de dados.","title":"3.1 Conectores"},{"location":"#32-leds-indicativos","text":"O Equipamento Onix EtherNet/IP possui um LED de indica\u00e7\u00e3o na porta EtherNet/IP, al\u00e9m de outro led que possui as seguintes indica\u00e7\u00f5es. Vista de um switch conectado ao Onix Ethernet (Inserir imagem) LED COR FUN\u00c7\u00c3O Link Verde Led de indica\u00e7\u00e3o de atividade Module Status (MS) Bicolor (Verde/Vermelho) (verificar a exist\u00eancia destes LEDs) Network Status (NS) Bicolor (Verde/Vermelho) (verificar a exist\u00eancia destes LEDs)","title":"3.2 Leds Indicativos"},{"location":"#4-instalacao-em-rede","text":"As recomenda\u00e7\u00f5es expressas neste cap\u00edtulo devem ser observadas para o correto funcionamento do equipamento em rede.","title":"4 Instala\u00e7\u00e3o em Rede"},{"location":"#41-endereco-ip","text":"Todo equipamento em uma rede Ethernet independente do protocolo necessita de um endere\u00e7o IP e m\u00e1scara de sub-rede. O endere\u00e7o IP em uma rede deve ser \u00fanico para cada equipamento. A mascara de sub-rede tem como fun\u00e7\u00e3o definir faixas v\u00e1lidas de endere\u00e7o IP na rede","title":"4.1 Endere\u00e7o IP"},{"location":"#42-taxa-de-comunicacao","text":"O indicador de pesagem Onix EtherNet/IP se comunica utilizando taxas de (VERIFICAR A TAXA DE COMUNICA\u00c7\u00c3O DO NETIC)","title":"4.2 Taxa de Comunica\u00e7\u00e3o"},{"location":"#43-cabos","text":"Abaixo segue as caracter\u00edsticas recomendadas para o cabo utilizado na instala\u00e7\u00e3o: - Cabo padr\u00e3o Ethernet, 100Base-TX (FastEthernet), CAT 5e ou superior. - Utilizar (preferencialmente) cabo blindado. - Comprimento m\u00e1ximo: 100 m.","title":"4.3 Cabos"},{"location":"#44-topologia-de-rede","text":"A conex\u00e3o do indicador Onix EtherNet/IP em rede Ethernet \u00e9 feita geralmente em estrela com a utiliza\u00e7\u00e3o de um switch industrial. Vista de um switch conectado ao Onix Ethernet (Inserir imagem)","title":"4.4 Topologia de Rede"},{"location":"#45-recomendacoes","text":"O aterramento correto do equipamento diminui poss\u00edveis problemas causados por interfer\u00eancias oriundas de ambientes industrial. \u00c9 recomend\u00e1vel seguir as seguintes recomenda\u00e7\u00f5es: - Utilizar cabos Ethernet com blindagem, bem como conectores que utilizem inv\u00f3lucro met\u00e1lico; - Efetuar a liga\u00e7\u00e3o do terra ao equipamento. Evitar a conex\u00e3o do cabo em m\u00faltiplos pontos de aterramento, principalmente quando existir diferentes pontos de potenciais; - Passar cabos de comunica\u00e7\u00e3o em vias dedicadas, evitando a passagem de cabos de alta pot\u00eancia pr\u00f3ximos.","title":"4.5 Recomenda\u00e7\u00f5es"},{"location":"#5-parametrizacao","text":"Ser\u00e3o descritos neste cap\u00edtulos par\u00e2metros do indicador de Pesagem Onix EtherNet/IP, v\u00ednculo com a comunica\u00e7\u00e3o Ethernet","title":"5 Parametriza\u00e7\u00e3o"},{"location":"#51-simbolos-para-descricao-das-propriedades","text":"S\u00edmbolo Descri\u00e7\u00e3o SL Somente Leitura SE Somente Escrita PM Posi\u00e7\u00e3o de Mem\u00f3ria","title":"5.1 S\u00edmbolos para Descri\u00e7\u00e3o das propriedades"},{"location":"#52-parametros","text":"","title":"5.2 Par\u00e2metros"},{"location":"#521-leitura-de-peso","text":"PM Faixa de valores Propriedade 2, 3 0x0000 ~ 0xFFFF SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura de peso obtida pelo equipamento. Esta informa\u00e7\u00e3o \u00e9 composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informa\u00e7\u00e3o: Bits Informa\u00e7\u00e3o Descritivo (PM 2) 15 ~ 8 STS Status de pesagem 7 ~ 0 PESO_A Primeira fra\u00e7\u00e3o mais significativa da pesagem Bits Informa\u00e7\u00e3o Descritivo (PM 3) 15 ~ 8 PESO_B Segunda fra\u00e7\u00e3o mais significativa da pesagem 7 ~ 0 PESO_C \u00daltima fra\u00e7\u00e3o da pesagem Descri\u00e7\u00e3o Bits STS: BITS INFORMA\u00c7\u00c3O 7 1: Peso Bruto, 0: Peso L\u00edquido 6 1: Sobrecarga 5 1: Satura\u00e7\u00e3o do AD 4 1: Peso Est\u00e1vel, 0: Peso n\u00e3o est\u00e1vel 3 1: Peso Negativo, 0: Peso Positivo 2, 1, 0 Posi\u00e7\u00e3o Ponto decimal (Descri\u00e7\u00e3o na tabela abaixo) Descri\u00e7\u00e3o Bits Posi\u00e7\u00e3o Ponto Decimal: BIT 2 BIT 1 BIT 0 INFORMA\u00c7\u00c3O 0 0 0 Sem Ponto Decimal 0 0 1 Formato 0,0 0 1 0 Formato 0,00 0 1 1 Formato 0,000 1 0 0 Formato 0,0000 Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Calculo da Informa\u00e7\u00e3o Peso: A informa\u00e7\u00e3o peso \u00e9 obtida atrav\u00e9s do calculo utilizando os dados PESO A, PESO B, PESO C e STS. O valor bruto da informa\u00e7\u00e3o peso pode ser descrito conforme a formula abaixo. PESO = (PESO_A x 65536) + (PESO_B x 256) + PESO_C Ap\u00f3s o calculo descrito acima as informa\u00e7\u00f5es de sinal e casas decimais devem ser inseridas. Segue abaixo dois exemplo do processamento das informa\u00e7\u00f5es de peso em linguagem C e em linguagem Ladder. Exemplo em Linguagem C: /* * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP * e sts_ethernetIP s\u00e3o aqueles recebidos pelo protocolo EtherNetIP */ float PESO(uint16_t pesoA_ethernetIP,uint16_t pesoB_ethernetIP, uint16_t pesoC_ethernetIP, sts_ethernetIP) { uint16_t peso; uint16_t p_decimal; uint16_t sinal; float peso_decimal; peso = (pesoA_ethernetIP * 65536) + (pesoB_ethernetIP * 256) + pesoC_ethernetIP //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de casas decimais p_decimal = sts_ethernetIP & 0b0000000000000111; switch(p_decimal): { case 1: peso_decimal = peso / 10; break; case 2: peso_decimal = peso / 100; break; case 3: peso_decimal = peso / 1000; break; case 4: peso_decimal = peso / 10000; break; } //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de sinal da pesagem sinal = sts_ethernetIP & 0b0000000000001000; if(sinal != 0x0000) { peso_decimal *= -1; } /* * Em virtude de como a linguagem armazena os valores do tipo float * para que as casas decimais sejam exatamente em quantidade \u00e0quelas * desejadas deve ser tratado as casas decimais retornadas do armaze- * namento em vari\u00e1vel */ return peso_decimal; } Exemplo em Linguagem Ladder: Imagem do exemplo em linguagem ladder","title":"5.2.1 Leitura de Peso"},{"location":"#522-leitura-de-tara","text":"PM Faixa de valores Propriedade 4, 5 0x0000 ~ 0xFFFF SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura de tara obtida pelo equipamento. Esta informa\u00e7\u00e3o \u00e9 composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informa\u00e7\u00e3o: Bits Informa\u00e7\u00e3o Descritivo (PM 4) 15 ~ 8 CASAS Status de tara 7 ~ 0 TARA_A Primeira fra\u00e7\u00e3o mais significativa da tara Bits Informa\u00e7\u00e3o Descritivo (PM 5) 15 ~ 8 TARA_B Segunda fra\u00e7\u00e3o mais significativa da tara 7 ~ 0 TARA_C \u00daltima fra\u00e7\u00e3o da tara Descri\u00e7\u00e3o Bits CASAS: BITS INFORMA\u00c7\u00c3O 2, 1, 0 Posi\u00e7\u00e3o Ponto decimal (Descri\u00e7\u00e3o na tabela abaixo) Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Descri\u00e7\u00e3o Bits Posi\u00e7\u00e3o Ponto Decimal: BIT 2 BIT 1 BIT 0 INFORMA\u00c7\u00c3O 0 0 0 Sem Ponto Decimal 0 0 1 Formato 0,0 0 1 0 Formato 0,00 0 1 1 Formato 0,000 1 0 0 Formato 0,0000 Observa\u00e7\u00e3o: Valores de bits n\u00e3o contemplados na tabela acima n\u00e3o possuem configura\u00e7\u00e3o v\u00e1lida Calculo da Informa\u00e7\u00e3o Tara: A informa\u00e7\u00e3o peso \u00e9 obtida atrav\u00e9s do calculo utilizando os dados CASAS, TARA_A, TARA_B e TARA_C. O valor bruto da informa\u00e7\u00e3o tara pode ser descrito conforme a formula abaixo. TARA = (TARA_A x 65536) + (TARA_B x 256) + TARA_C Ap\u00f3s o calculo descrito acima as informa\u00e7\u00e3o de casas decimais devem ser inseridas. Segue abaixo dois exemplo do processamento das informa\u00e7\u00f5es de peso em linguagem C e em linguagem Ladder. Exemplo em Linguagem C: /* * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP * e sts_ethernetIP s\u00e3o aqueles recebidos pelo protocolo EtherNetIP */ float TARA(uint16_t taraA_ethernetIP,uint16_t taraB_ethernetIP, uint16_t taraC_ethernetIP, casas_ethernetIP) { uint16_t tara; uint16_t t_decimal; float tara_decimal; tara = (taraA_ethernetIP * 65536) + (taraB_ethernetIP * 256) + taraC_ethernetIP //mascara de bits com l\u00f3gica AND para obten\u00e7\u00e3o da configura\u00e7\u00e3o de casas decimais t_decimal = casas_ethernetIP & 0b0000000000000111; switch(t_decimal): { case 1: tara_decimal = tara / 10; break; case 2: tara_decimal = tara / 100; break; case 3: tara_decimal = tara / 1000; break; case 4: tara_decimal = tara / 10000; break; } /* * Em virtude de como a linguagem armazena os valores do tipo float * para que as casas decimais sejam exatamente em quantidade * \u00e0quelas desejadas deve ser tratado as casas decimais retornadas * do armazenamento em vari\u00e1vel */ return peso_decimal; } Exemplo em Linguagem Ladder: Imagem do exemplo em linguagem ladder","title":"5.2.2 Leitura de Tara"},{"location":"#523-leitura-de-filtro","text":"PM Faixa de valores Propriedade 6 0x0000 ~ 0x000B SL Descri\u00e7\u00e3o: Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o Filtro Digital - FIL\" feita no indicador de pesagem. Bits Informa\u00e7\u00e3o Descritivo (PM 5) 15 ~ 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de FIL A tabela abaixo apresenta todos os valores possiveis para FIL. \u00c9 importante destacar que quanto maior o valor do filtro maior ser\u00e1 a estabilidade entregue pelo sistema, consequentemente o tempo de resposta aumenta. Valores Filtro DIGITAL 0 Desabilitado - sem atua\u00e7\u00e3o do filtro 1,2,3,4,5,6,7,8,9,10,11 Filtro ativo Observa\u00e7\u00e3o1: Configura\u00e7\u00e3o de filtro valor de 1 a 8 s\u00e3o indicados para processos gerais, destacando que conforme o valor do filtro maior ser\u00e1 seu tempo de resposta. Observa\u00e7\u00e3o2: Filtros com valores maiores ou iguais a 9 s\u00e3o indicados para pesagem de caminh\u00f5es em movimento, tanques com agitadores e aplica\u00e7\u00f5es como balan\u00e7a de gado, observando que o tempo de resposta ter\u00e1 um incremento de tempo.","title":"5.2.3 Leitura de Filtro"},{"location":"#524-leitura-do-fator-de-sensibilidade","text":"Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o Fator de Sensibilidade\". Bits Informa\u00e7\u00e3o Descritivo (PM 7) 15 ~ 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de Fator de Sensibilidade A tabela abaixo apresenta todos os valores possiveis para Fator de Sensibilidade. Valores Fator de Sensibilidade 1 Respostas r\u00e1pidas (ideal para pesagem e carga viva - Balan\u00e7a de gado) 2 Para plataformas at\u00e9 50 Kg 3 Para plataformas at\u00e9 100 Kg 4 Para plataformas at\u00e9 1000 Kg 5 Para plataformas acima de 1000 Kg","title":"5.2.4 Leitura do Fator de Sensibilidade"},{"location":"#524-leitura-de-pesagem-rapida-prap","text":"Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o de Pesagem r\u00e1pida PrAP\". Em aplica\u00e7\u00f5es onde deseja-se obter apenas o valor final de leitura n\u00e3o se preocupando com os intermedi\u00e1rios torna a leitura mais din\u00e2mica (100 milissegundos). Quando PrAP se encontra em seu modo ativo conforme Portaria 236/94 do INMETRO a estabiliza\u00e7\u00e3o do valor de leitura se d\u00e1 ap\u00f3s (500 milissegundos). Bits Informa\u00e7\u00e3o Descritivo (PM 8) 0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de PrAP A tabela abaixo apresenta todos os valores poss\u00edveis PrAP. \u00c9 essa configura\u00e7\u00e3o possui apenas dois valores poss\u00edveis conforme descrito abaixo. Valores Fator de Sensibilidade 0 PrAP desabilitado 1 PrAP habilitado","title":"5.2.4 Leitura de Pesagem R\u00e1pida (PrAP)"},{"location":"#525-leitura-de-unidade-de-leitura-unl","text":"Este par\u00e2metro permite efetuar a leitura da configura\u00e7\u00e3o da \"Fun\u00e7\u00e3o de Unidade de Leitura UnL\". Esta leitura informa a unidade de leitura adotada na pesagem, sendo poss\u00edvel quatro configura\u00e7\u00f5es. Bits Informa\u00e7\u00e3o Descritivo (PM 9) 7,6,5,4,3,2,1,0 Configura\u00e7\u00e3o Configura\u00e7\u00e3o de UnL A tabela abaixo apresenta todos os valores poss\u00edveis de UnL. \u00c9 essa configura\u00e7\u00e3o possui quatro valores poss\u00edveis conforme descrito abaixo. Valores Fator de Sensibilidade 0 Sem Unidade de Leitura 2 Tonelada - T 4 Kilograma - Kg 8 Grama - g","title":"5.2.5 Leitura de Unidade de Leitura (UnL)"}]}