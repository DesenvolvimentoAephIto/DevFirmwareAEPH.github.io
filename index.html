<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Onix EtherNet/IP</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Manual";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Onix EtherNet/IP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Manual</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-introducao">1. Introdução</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-protocolo-ethernetip">2. Protocolo Ethernet/IP</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-descricao-da-interface">3. Descrição da Interface</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#31-conectores">3.1 Conectores</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#32-leds-indicativos">3.2 Leds Indicativos</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-instalacao-em-rede">4 Instalação em Rede</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#41-endereco-ip">4.1 Endereço IP</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#42-taxa-de-comunicacao">4.2 Taxa de Comunicação</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#43-cabos">4.3 Cabos</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#44-topologia-de-rede">4.4 Topologia de Rede</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#45-recomendacoes">4.5 Recomendações</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#5-parametrizacao">5 Parametrização</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#51-simbolos-para-descricao-das-propriedades">5.1 Símbolos para Descrição das propriedades</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#52-parametros">5.2 Parâmetros</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#521-leitura-de-peso">5.2.1 Leitura de Peso</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#522-leitura-de-tara">5.2.2 Leitura de Tara</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#523-leitura-de-filtro">5.2.3 Leitura de Filtro</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#524-leitura-do-fator-de-sensibilidade">5.2.4 Leitura do Fator de Sensibilidade</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#524-leitura-de-pesagem-rapida-prap">5.2.4 Leitura de Pesagem Rápida (PrAP)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#525-leitura-de-unidade-de-leitura-unl">5.2.5 Leitura de Unidade de Leitura (UnL)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#531-acao-de-tara">5.3.1 Ação de Tara</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#532-acao-de-zero">5.3.2 Ação de Zero</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#533-acao-de-imprimir">5.3.3 Ação de Imprimir</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#534-acao-de-prap">5.3.4 Ação de PrAP</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#535-acao-de-filtro">5.3.5 Ação de Filtro</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#536-acao-de-fator-de-sensibilidade">5.3.6 Ação de Fator de Sensibilidade</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#537-acao-de-unidade-de-leitura">5.3.7 Ação de Unidade de Leitura</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="download/">Download</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="contato/">Contato</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Onix EtherNet/IP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Manual</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="manual-onix-ethernetip">Manual Onix EtherNet/IP</h1>
<h2 id="1-introducao">1. Introdução</h2>
<p style="text-align: justify">
    O documento a seguir detalha a instalação e utilização do Indicador de pesagem Onix Ethernet/IP. Cabe destacar que este comporta-se como um anexo ao manual do Indicador de Pesagem Onix.
</p>

<h2 id="2-protocolo-ethernetip">2. Protocolo Ethernet/IP</h2>
<p style="text-align: justify">
    O protocolo Ethernet/IP faz uso da tecnologia Ethernet, fornecendo interconexões para rede(s) local(is), efetuando a comunicação através do envio de pacotes(norma IEEE 802-2 e IEEE 802-3). É definido pelo Ethernet o tipo de cabeamento e sinais elétricos para a camada física além do formato dos pacotes e protocolos seguindo o modelo OSI. Ao abordar protocolos de comunicação, antes é necessário defini-los. Protocolos, em especial os de comunicação são um conjunto de regras e procedimentos que visam proporcionar a troca de dados entre máquinas e sistemas 
</p>

<p style="text-align: justify">  
    Baseado no meio físico de comunicação Ethernet surgiram diversos protocolos de comunicação, servindo a diversas finalidades. Atualmente entre os diversos protocolos que trafegam sobre este meio físico como o FTP, HTTP, IP, TPC, UDP...
</p>

<p style="text-align: justify"> 
    Além do uso em computadores em ambientes residenciais, comerciais e acadêmicos a tecnologia Ethernet é difundida também em ambientes industriais para interconexões de equipamentos e maquinários. Nesses surgiram diferentes protocolos de comunicação como Modbus TCP, Ethernet/IP e Profinet, todos utilizando o meio físico Ethernet.
</p>

<h2 id="3-descricao-da-interface">3. Descrição da Interface</h2>
<p style="text-align: justify"> 
    O equipamento indicador de pesagem Onix EtherNet/IP utiliza um conector RJ45 para ligação com a rede, e uma entrada serial para a configuração de parâmetros de comunicação.
</p>

<div style="text-align: center">
    <img src="img/001.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p>Inserir imagem lateral do equipamento</p>
</div>

<h3 id="31-conectores">3.1 Conectores</h3>
<p style="text-align: justify"> 
    O equipamento Onix EtherNet/IP possui um conector RJ45 para ligação em rede, a pinagem do conector segue o padrão Fast Ethernet 100BASE-TX utilizando dois pares de cabos para transmissão e recepção de dados.
</p>

<h3 id="32-leds-indicativos">3.2 Leds Indicativos</h3>
<p style="text-align: justify"> 
    O Equipamento Onix EtherNet/IP possui um LED de indicação na porta EtherNet/IP, além de outro led que possui as seguintes indicações.
</p>

<div style="text-align: center">
    <img src="img/002.jpg" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p>Vista de um switch conectado ao Onix Ethernet (Inserir imagem)</p>
</div>

<table>
<thead>
<tr>
<th>LED</th>
<th>COR</th>
<th>FUNÇÃO</th>
</tr>
</thead>
<tbody>
<tr>
<td>Link</td>
<td>Verde</td>
<td>Led de indicação de atividade</td>
</tr>
<tr>
<td>Module Status (MS)</td>
<td>Bicolor (Verde/Vermelho)</td>
<td>(verificar a existência destes LEDs)</td>
</tr>
<tr>
<td>Network Status (NS)</td>
<td>Bicolor (Verde/Vermelho)</td>
<td>(verificar a existência destes LEDs)</td>
</tr>
</tbody>
</table>
<h2 id="4-instalacao-em-rede">4 Instalação em Rede</h2>
<p style="text-align: justify"> 
    As recomendações expressas neste capítulo devem ser observadas para o correto funcionamento do equipamento em rede.
</p>

<h3 id="41-endereco-ip">4.1 Endereço IP</h3>
<p style="text-align: justify"> 
    Todo equipamento em uma rede Ethernet independente do protocolo necessita de um endereço IP e máscara de sub-rede.
</p>
<p style="text-align: justify"> 
    O endereço IP em uma rede deve ser único para cada equipamento. A máscara de sub-rede tem como função definir faixas válidas de endereço IP na rede. 
</p>

<h3 id="42-taxa-de-comunicacao">4.2 Taxa de Comunicação</h3>
<p style="text-align: justify"> 
    O indicador de pesagem Onix EtherNet/IP se comunica utilizando taxas de <b>(VERIFICAR A TAXA DE COMUNICAÇÃO DO NETIC)</b>
</p>

<h3 id="43-cabos">4.3 Cabos</h3>
<p style="text-align: justify"> 
    Segue abaixo as características recomendadas para o cabo utilizado na instalação:
</p>

<div style="margin-left: 2em">
    <p style="text-align: justify"> 
        - Cabo padrão Ethernet, 100Base-TX (FastEthernet), CAT 5e ou superior.<br>
        - Utilizar (preferencialmente) cabo blindado.<br>
        - Comprimento máximo: 100 m.
    </p>
</div>

<h3 id="44-topologia-de-rede">4.4 Topologia de Rede</h3>
<p style="text-align: justify">  
    A conexão do indicador Onix EtherNet/IP em rede Ethernet é feita geralmente em estrela com a utilização de um switch industrial.
</p>

<div style="text-align: center">
    <img src="img/003.png" alt="Vista de um switch conectado ao Onix Ethernet (Inserir imagem)">
    <p>Vista de um switch conectado ao Onix Ethernet (Inserir imagem)</p>
</div>

<h3 id="45-recomendacoes">4.5 Recomendações</h3>
<p style="text-align: justify">  
    O aterramento correto do equipamento diminui possíveis problemas causados por interferências oriundas de ambientes industrial. É recomendável seguir as seguintes:
</p>

<div style="margin-left: 2em">
    <p style="text-align: justify">
        - Utilizar cabos Ethernet com blindagem, bem como conectores que utilizem invólucro metálico;<br>
        - Efetuar a ligação do terra ao equipamento. Evitar a conexão do cabo em múltiplos pontos de aterramento, principalmente quando existir diferentes pontos de potenciais;<br>
        - Passar cabos de comunicação em vias dedicadas, evitando a passagem de cabos de alta potência próximos.
    </p>
</div>

<h2 id="5-parametrizacao">5 Parametrização</h2>
<p style="text-align: justify">
    Serão descritos neste capítulos parâmetros do indicador de Pesagem Onix EtherNet/IP, vínculo com a comunicação Ethernet.
</p>

<h3 id="51-simbolos-para-descricao-das-propriedades">5.1 Símbolos para Descrição das propriedades</h3>
<table>
<thead>
<tr>
<th>Símbolo</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr>
<td>SL</td>
<td>Somente Leitura</td>
</tr>
<tr>
<td>SE</td>
<td>Somente Escrita</td>
</tr>
<tr>
<td>PM</td>
<td>Posição de Memória</td>
</tr>
</tbody>
</table>
<h3 id="52-parametros">5.2 Parâmetros</h3>
<h4 id="521-leitura-de-peso">5.2.1 Leitura de Peso</h4>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>2, 3</td>
<td>0x0000  ~ 0xFFFF</td>
<td>SL</td>
</tr>
</tbody>
</table>
<p><b>Descrição:</b></p>

<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura de peso obtida pelo equipamento. Esta informação é composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informação:
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 2)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 8</td>
<td align="center">STS</td>
<td align="center">Status de pesagem</td>
</tr>
<tr>
<td align="center">7 ~ 0</td>
<td align="center">PESO_A</td>
<td align="center">Primeira fração mais significativa da pesagem</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 3)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 8</td>
<td align="center">PESO_B</td>
<td align="center">Segunda fração mais significativa da pesagem</td>
</tr>
<tr>
<td align="center">7 ~ 0</td>
<td align="center">PESO_C</td>
<td align="center">Última fração da pesagem</td>
</tr>
</tbody>
</table>
<p><strong>Descrição Bits STS:</strong></p>
<table >
    <tr>
        <td><b>BITS</b></td>
        <td><b>INFORMAÇÃO</b></td>
    </tr>
    <tr>
        <td>7</td>
        <td>1: Peso Bruto, 0: Peso Líquido</td>
    </tr>
    <tr>
        <td>6</td>
        <td>1: Sobrecarga</td>
    </tr>
    <tr>
        <td>5</td>
        <td>1: Saturação do AD</td>
    </tr>
    <tr>
        <td>4</td>
        <td>1: Peso Estável, 0: Peso não estável</td>
    </tr>
    <tr>
        <td>3</td>
        <td>1: Peso Negativo, 0: Peso Positivo</td>
    </tr>
    <tr>
        <td>2, 1, 0</td>
        <td> Posição Ponto decimal <b>(Descrição na tabela abaixo)</b></td>
    </tr>
</table>

<p><strong>Descrição Bits Posição Ponto Decimal:</strong></p>
<div style="position: relative">
<table>
    <tr>
        <td><b>BIT 2</b></td>
        <td><b>BIT 1</b></td>
        <td><b>BIT 0</b></td>
        <td><b>INFORMAÇÃO</b></td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>Sem Ponto Decimal</td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>1</td>
        <td> Formato 0,0</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>0</td>
        <td>Formato 0,00</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>1</td>
        <td>Formato 0,000</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>0</td>
        <td>Formato 0,0000</td>
    </tr>
</table>
</div>

<div style="margin-left: 2em">
    <p style="color: gray">
        <b>Observação:</b> Valores de bits não contemplados na tabela acima não possuem configuração válida
    </p>
</div>

<p><strong>Calculo da Informação Peso:</strong></p>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        A informação peso é obtida através do cálculo utilizando os dados PESO A, PESO B, PESO C e STS. O valor bruto da informação peso pode ser descrito conforme a formula abaixo.
    </p>
</div>
<div style="margin-left: 2em; background: rgb(228, 226, 226); width: 57%; margin-top: 0em margin-bottom: 0em">
    <p>
        PESO = (PESO_A x 65536) + (PESO_B x 256) + PESO_C
    </p>
</div>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        Após o cálculo descrito acima as informações de sinal e casas decimais devem ser inseridas.
    </p>
    <p>
        Segue abaixo dois exemplo do processamento das informações de peso em linguagem C e em linguagem Ladder.
    </p>
</div>

<div style="text-align: justify margin-bottom: 0em">
    <p>
        Exemplo em Linguagem C:
    </p>
</div>

<pre><code class="language-c">    /*
    * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP 
    * e sts_ethernetIP são aqueles recebidos pelo protocolo  EtherNetIP
    */
    float PESO(uint16_t pesoA_ethernetIP,uint16_t pesoB_ethernetIP, uint16_t  pesoC_ethernetIP, sts_ethernetIP)
    {
        uint16_t peso;
        uint16_t p_decimal;
        uint16_t sinal;
        float peso_decimal;

        peso = (pesoA_ethernetIP * 65536) + (pesoB_ethernetIP * 256) + pesoC_ethernetIP

        //máscara de bits com lógica AND para obtenção da configuração de casas decimais 
        p_decimal = sts_ethernetIP &amp; 0b0000000000000111;

        switch(p_decimal):
        {
            case 1:
                peso_decimal = peso / 10;
                break;
            case 2:
                peso_decimal = peso / 100;
                break;
            case 3:
                peso_decimal = peso / 1000;
                break;
            case 4:
                peso_decimal = peso / 10000;
                break;
        }

        //máscara de bits com lógica AND para obtenção da configuração de sinal da pesagem 
        sinal = sts_ethernetIP &amp; 0b0000000000001000;

        if(sinal != 0x0000)
        {
            peso_decimal *= -1;        
        }

       /*
        * Em virtude de como a linguagem armazena os valores do tipo float
        * para que as casas decimais sejam exatamente em quantidade àquelas
        * desejadas deve ser tratado as casas decimais retornadas do armaze-
        * namento em variável
        */
        return peso_decimal;
    }
</code></pre>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        Exemplo em Linguagem Ladder:
    </p>
</div>

<div style="text-align: center">
    <img src="img/004.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p>Imagem do exemplo em linguagem ladder</p>
</div>

<h4 id="522-leitura-de-tara">5.2.2 Leitura de Tara</h4>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>4, 5</td>
<td>0x0000  ~ 0xFFFF</td>
<td>SL</td>
</tr>
</tbody>
</table>
<p><b>Descrição:</b></p>

<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura de tara obtida do equipamento. Esta informação é composta de dois valores de 16bits. Segue abaixo o descritivo do armazenamento da informação:
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 4)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 8</td>
<td align="center">CASAS</td>
<td align="center">Status de tara</td>
</tr>
<tr>
<td align="center">7 ~ 0</td>
<td align="center">TARA_A</td>
<td align="center">Primeira fração mais significativa da tara</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 5)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 8</td>
<td align="center">TARA_B</td>
<td align="center">Segunda fração mais significativa da tara</td>
</tr>
<tr>
<td align="center">7 ~ 0</td>
<td align="center">TARA_C</td>
<td align="center">Última fração da tara</td>
</tr>
</tbody>
</table>
<p><strong>Descrição Bits CASAS:</strong></p>
<table>
    <tr>
        <td><b>BITS</b></td>
        <td><b>INFORMAÇÃO</b></td>
    </tr>
    <tr>
        <td>2, 1, 0</td>
        <td> Posição Ponto decimal <b>(Descrição na tabela abaixo)</b></td>
    </tr>
</table>
<div style="margin-left: 2em">
    <p style="color: gray">
        <b>Observação:</b> Valores de bits não contemplados na tabela acima não possuem configuração válida
    </p>
</div>

<p><strong>Descrição Bits Posição Ponto Decimal:</strong></p>
<div style="position: relative">
<table>
    <tr>
        <td><b>BIT 2</b></td>
        <td><b>BIT 1</b></td>
        <td><b>BIT 0</b></td>
        <td><b>INFORMAÇÃO</b></td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>Sem Ponto Decimal</td>
    </tr>
    <tr>
        <td>0</td>
        <td>0</td>
        <td>1</td>
        <td> Formato 0,0</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>0</td>
        <td>Formato 0,00</td>
    </tr>
    <tr>
        <td>0</td>
        <td>1</td>
        <td>1</td>
        <td>Formato 0,000</td>
    </tr>
    <tr>
        <td>1</td>
        <td>0</td>
        <td>0</td>
        <td>Formato 0,0000</td>
    </tr>
</table>
</div>

<div style="margin-left: 2em">
    <p style="color: gray">
        <b>Observação:</b> Valores de bits não contemplados na tabela acima não possuem configuração válida
    </p>
</div>
<p><strong>Calculo da Informação Tara:</strong></p>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        A informação peso é obtida através do cálculo utilizando os dados CASAS, TARA_A, TARA_B e TARA_C. O valor bruto da informação tara pode ser descrito conforme a formula abaixo.
    </p>
</div>
<div style="margin-left: 2em; background: rgb(228, 226, 226); width: 57%; margin-top: 0em margin-bottom: 0em">
    <p>
        TARA = (TARA_A x 65536) + (TARA_B x 256) + TARA_C
    </p>
</div>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        Após o cálculo descrito acima as informação de casas decimais devem ser inseridas.
    </p>
    <p>
        Segue abaixo dois exemplo do processamento das informações de peso em linguagem C e em linguagem Ladder.
    </p>
</div>

<div style="text-align: justify margin-bottom: 0em">
    <p>
        Exemplo em Linguagem C:
    </p>
</div>

<pre><code class="language-c">    /*
    * Valores atributos pesoA_ethernetIP , pesoB_ethernetIP,pesoB_ethernetIP 
    * e sts_ethernetIP são aqueles recebidos pelo protocolo  EtherNet/IP
    */
    float TARA(uint16_t taraA_ethernetIP,uint16_t taraB_ethernetIP, uint16_t  taraC_ethernetIP, casas_ethernetIP)
    {
        uint16_t tara;
        uint16_t t_decimal;
        float tara_decimal;

        tara = (taraA_ethernetIP * 65536) + (taraB_ethernetIP * 256) + taraC_ethernetIP

        //máscara de bits com lógica AND para obtenção da configuração de casas decimais 
        t_decimal = casas_ethernetIP &amp; 0b0000000000000111;

        switch(t_decimal):
        {
            case 1:
                tara_decimal = tara / 10;
                break;
            case 2:
                tara_decimal = tara / 100;
                break;
            case 3:
                tara_decimal = tara / 1000;
                break;
            case 4:
                tara_decimal = tara / 10000;
                break;
        }

       /*
        * Em virtude de como a linguagem armazena os valores do tipo float
        * para que as casas decimais sejam exatamente em quantidade
        * àquelas desejadas deve ser tratado as casas decimais retornadas
        * do armazenamento em variável
        */
        return peso_decimal;
    }
</code></pre>
<div style="text-align: justify margin-bottom: 0em">
    <p>
        Exemplo em Linguagem Ladder:
    </p>
</div>

<div style="text-align: center">
    <img src="img/005.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p>Imagem do exemplo em linguagem ladder</p>
</div>

<h4 id="523-leitura-de-filtro">5.2.3 Leitura de Filtro</h4>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>0x0000  ~ 0x000B</td>
<td>SL</td>
</tr>
</tbody>
</table>
<p><b>Descrição:</b></p>

<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura da configuração da "Função Filtro Digital - FIL" feita no indicador de pesagem. 
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 5)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 0</td>
<td align="center">Configuração</td>
<td align="center">Configuração de FIL</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis para FIL. É importante destacar que quanto maior o valor do filtro maior será a estabilidade entregue pelo sistema, consequentemente o tempo de resposta aumenta. 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Filtro DIGITAL</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Desabilitado - sem atuação do filtro</td>
</tr>
<tr>
<td align="center">1,2,3,4,5,6,7,8,9,10,11</td>
<td align="center">Filtro ativo</td>
</tr>
</tbody>
</table>
<div style="margin-left: 2em; text-align: justify">
    <p style="color: gray">
        <b>Observação1:</b> Configuração de filtro valor de 1 a 8 são indicados para processos gerais, destacando que conforme o valor do filtro maior será seu tempo de resposta.<br>      
        <b>Observação2:</b> Filtros com valores maiores ou iguais a 9 são indicados para pesagem de caminhões em movimento, tanques com agitadores e aplicações como balança de gado, observando que o tempo de resposta terá um incremento de tempo.     
    </p>
</div>

<h4 id="524-leitura-do-fator-de-sensibilidade">5.2.4 Leitura do Fator de Sensibilidade</h4>
<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura da configuração da "Função Fator de Sensibilidade". 
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 7)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">15 ~ 0</td>
<td align="center">Configuração</td>
<td align="center">Configuração de Fator de Sensibilidade</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis para Fator de Sensibilidade. 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Fator de Sensibilidade</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">Respostas rápidas (ideal para pesagem e carga viva - Balança de gado)</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">Para plataformas até 50 Kg</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">Para plataformas até 100 Kg</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">Para plataformas até 1000 Kg</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">Para plataformas acima de 1000 Kg</td>
</tr>
</tbody>
</table>
<h4 id="524-leitura-de-pesagem-rapida-prap">5.2.4 Leitura de Pesagem Rápida (PrAP)</h4>
<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura da configuração da "Função de Pesagem rápida PrAP". Em aplicações onde deseja-se obter apenas o valor final de leitura não se preocupando com os intermediários torna a leitura mais dinâmica (100 milissegundos). Quando PrAP se encontra em seu modo ativo conforme Portaria 236/94 do INMETRO a estabilização do valor de leitura se dá após (500 milissegundos). 
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 8)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Configuração</td>
<td align="center">Configuração de PrAP</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis PrAP. É essa configuração possui apenas dois valores possíveis conforme descrito abaixo.
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Fator de Sensibilidade</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">PrAP desabilitado</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">PrAP habilitado</td>
</tr>
</tbody>
</table>
<h4 id="525-leitura-de-unidade-de-leitura-unl">5.2.5 Leitura de Unidade de Leitura (UnL)</h4>
<p style="text-align: justify">
    Este parâmetro permite efetuar a leitura da configuração da "Função de Unidade de Leitura UnL". Esta leitura informa a unidade de leitura adotada na pesagem, sendo possível quatro configurações. 
</p>

<table>
<thead>
<tr>
<th align="center">Bits</th>
<th align="center">Informação</th>
<th align="center">Descritivo (PM 9)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">7,6,5,4,3,2,1,0</td>
<td align="center">Configuração</td>
<td align="center">Configuração de UnL</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis de UnL. É essa configuração possui quatro valores possíveis conforme descrito abaixo.
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Unidade de Leitura</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Sem Unidade de Leitura</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">Tonelada - T</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">Kilograma - Kg</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">Grama - g</td>
</tr>
</tbody>
</table>
<h4 id="531-acao-de-tara">5.3.1 Ação de Tara</h4>
<p style="text-align: justify">
    A escrita sobre esta posição de memória permite efetuar a ação de tara sobre o indicador de pesagem Onix-Ethernet/IP. Segue abaixo as informações referentes ao registrador, cabendo ressaltar que o mesmo possui comportamento exclusivo para escrita, a confirmação da ação de tara deve ser observada no registrador de leitura de tara.<br>
    Quando a ação de tara é bem sucedida os registradores PM4 PM5 de somente leitura adquirem valor do valor anterior dos registradores.
</p>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>0x0000  ~ 0x0001</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Segue abaixo os valores de configuração para esse registrador: 
</p>
<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Configurações</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Ação de Tara desligada (default)</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">Ação de Tara ligada</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    É importante que para a ação de tara ocorrer a leitura de peso atual do equipamento esteja como "estavel", não havendo este estado, o equipamento não efeturá a ação de tara. Segue abaixo a lógica necessária para o comando de tara sobre o equipamento: 
</p>
<div style="text-align: center">
    <img src="img/006.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="532-acao-de-zero">5.3.2 Ação de Zero</h4>
<p style="text-align: justify">
    A escrita sobre esta posição de memória permite efetuar duas ações, zero e destara sobre o indicador de pesagem Onix-Ethernet/IP. A ação de destara possui prioridade sobre a ação de zero, ocorrendo quando o indicador já possui valor de tara efetuada anteriormente, desfazendo esta operação, fazendo com que o valor de tara armazenado seja somado ao peso indicado no momento anterior à ação de destara.<br>
    A ação de zero sobre o equipamento tem por objetivo eliminar a indicação de pesagem que o equipamento apresenta, com base em um percentual da carga máxima atribuída ao mesmo, podendo esse valor oscilar de 1 a 10% do fundo de escala do equipamento. Este percentual é configurado no equipamento de pesagem (vide página 107 indicador de pesagem Onix). Ao efetuar a ação de zero sobre o indicador de pesagem, caso o valor apresentado esteja dentro do limite configurado, a ação de zero ocorrerá, ocasionando no valor zero apresentado como leitura de peso. A ação de zero somente ocorre sobre o indicador de pesagem mediante a estabilidade de leitura, em caso de indicação de peso oscilante (com o valor do registrador de estabilidade STS diferente de 1) a ação de zero não ocorre<br> 
    A visualização do sucesso do comando deve ser visualizado respectivamente na leitura de peso (PM2 e PM3) para ação de zero e leitura de tara para ação de destara  (PM4 e PM5).
</p>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>3</td>
<td>0x0000  ~ 0x0001</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Segue abaixo os valores de configuração para esse registrador: 
</p>
<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Configurações</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Ação de Destara/Zero desligada (default)</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">Ação de Destara/Zero ligada</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Fluxograma de operação da Ação de Destara/Zero:
</p>

<div style="text-align: center">
    <img src="img/007.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="533-acao-de-imprimir">5.3.3 Ação de Imprimir</h4>
<p style="text-align: justify">
    A escrita sobre esta posição de memória permite efetuar a ação de imprimir sobre indicadores de pesagem com a função imprimir habilitada. (Função não habilitada para indicadores de pesagem Onix e Onix EtherNet/IP).<br>
    A ação de imprimir apenas efetua a ação do comando de impressão remota, sendo que as configurações de impressão (vide página 133 manual indicador de pesagem Onix).<br> 
    A visualização do sucesso do comando deve ser feita com auxílio visual da impressora utilizada.Cabe destacar que a ação de imprimir só é possível mediante o valor estável de indicação de pesagem.
</p>
<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>4</td>
<td>0x0000  ~ 0x0001</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Segue abaixo os valores de configuração para esse registrador: 
</p>
<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Configurações</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Ação de Impressão inativa (default)</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">Ação de Impressão ativa</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Fluxograma de operação de Impressão :
</p>

<div style="text-align: center">
    <img src="img/008.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="534-acao-de-prap">5.3.4 Ação de PrAP</h4>
<p style="text-align: justify">
    Função exclusiva para aplicações que possui estabilização de até 500ms (Portaria 236/94 INMETRO). A função de PrAP tem por objetivo tornar visível a leitura dos valores intermediários de pesagem.<br>
    Em aplicações onde o objetivo é apenas visualizar o peso final estabilizado, a função PrAP deve permanecer desabilitado.<br>
    O status atual de configuração de PrAP pode ser acessado através de  PM 8 (SL).
</p>

<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>0x0000  ~ 0x0001</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Segue abaixo os valores de configuração para esse registrador: 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Configurações</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Ação de PrAP inativo (default)</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">Ação de PrAP ativo</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Fluxograma de configuração de PrAP:
</p>

<div style="text-align: center">
    <img src="img/009.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="535-acao-de-filtro">5.3.5 Ação de Filtro</h4>
<p style="text-align: justify">
    A escrita sobre esta posição de memória permite efetuar a ação de configuração de filtro do indicador de pesagem Onix EtherNet/IP.<br>
    A configuração de filtro possui ação direta na atenuação de oscilações de pesagem, motivadas por interferências mecânicas e/ou eletromagnética. Existe a possibilidade de 12 configurações diferentes, quanto maior o valor de filtro maior será a ação dos de estabilização sobre o sistema. A configuração do filtro impacta diretamente no tempo de resposta do indicador, conforme o valor de filtro é aumentado o tempo de resposta também aumenta proporcionalmente.<br>
    O status atual de configuração de Filtro pode ser acessado através de  PM 6 (SL).
</p>

<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>0x0000  ~ 0x000B</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis para FIL: 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Filtro DIGITAL</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Desabilitado - sem atuação do filtro</td>
</tr>
<tr>
<td align="center">1,2,3,4,5,6,7,8,9,10,11</td>
<td align="center">Filtro ativo</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Fluxograma de configuração de FIL:
</p>

<div style="text-align: center">
    <img src="img/010.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="536-acao-de-fator-de-sensibilidade">5.3.6 Ação de Fator de Sensibilidade</h4>
<p style="text-align: justify">
    Juntamente com as Configurações de pesagem rápida (PrAP) e Filtro a configuração do Fator de Sensibilidade contribui para a obtenção de de pesagem mais estável.<br>
    A configuração deste parâmetro obedece a carga máxima de trabalho sobre o sistema de pesagem.<br>
    O status atual de configuração de Fator de Sensibilidade pode ser acessado através de  PM 7 (SL).
</p>

<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td>0x0001  ~ 0x0005</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis para Fator de Sensibilidade: 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Filtro DIGITAL</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">Respostas Rápidas (ideal para pesagem de carga viva)</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">Plataformas até 50 Kg</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">Plataformas até 100 Kg</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">Plataformas até 1000 Kg</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">Plataformas acima 1000 Kg</td>
</tr>
</tbody>
</table>
<div style="margin-left: 2em">
    <p style="color: gray">
        <b>Observação:</b> Os valores descritos acima não se tratam de valores obrigatórios, apenas recomendações conforme estudos efetuados.
    </p>
</div>

<p style="text-align: justify">
    Fluxograma de configuração de Fator de Sensibilidade:
</p>

<div style="text-align: center">
    <img src="img/011.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>

<h4 id="537-acao-de-unidade-de-leitura">5.3.7 Ação de Unidade de Leitura</h4>
<p style="text-align: justify">
    A escrita sobre esta posição de memória permite efetuar a ação de configuração de da unidade de leitura dos indicadores de pesagem AEPH. (Função não presente no indicador de pesagem Onix e Onix EtherNet/IP)<br>
    Esta configuração é efetuada com o propósito de alterar o led indicador de unidade de pesagem em indicadores com essa função e do valor impresso de pesagem quando existente, não tendo nenhuma influência sobre a leitura de peso efetuada.<br>
    O status atual de configuração de Fator de Sensibilidade pode ser acessado através de  PM 9 (SL).
</p>

<table>
<thead>
<tr>
<th>PM</th>
<th>Faixa de valores</th>
<th>Propriedade</th>
</tr>
</thead>
<tbody>
<tr>
<td>8</td>
<td>0x0000  ~ 0x0008</td>
<td>SE</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    A tabela abaixo apresenta todos os valores possíveis para Unidade de Leitura (UnL): 
</p>

<table>
<thead>
<tr>
<th align="center">Valores</th>
<th align="center">Unidade de Leitura</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0</td>
<td align="center">Sem Unidade de Leitura</td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">Tonelada - T</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">Kilograma - Kg</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">Grama - g</td>
</tr>
</tbody>
</table>
<p style="text-align: justify">
    Fluxograma de configuração de Unidade de Leitura (UnL):
</p>

<div style="text-align: center">
    <img src="img/012.png" alt="Vista frontal da Porta Ethernet (Inserir imagem)">
    <p></p>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="download/" class="btn btn-neutral float-right" title="Download">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="download/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.2.2
Build Date UTC : 2021-11-18 14:12:48.000218+00:00
-->
